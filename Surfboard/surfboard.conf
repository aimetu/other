# 托管配置必须在首行才会生效实现自动更新，应用程序即使在后台也能自动更新
#!MANAGED-CONFIG https://raw.githubusercontent.com/aimetu/other/main/Surfboard/surfboard.conf interval=86400 strict=false

# 2023.8.03
# 注意:去掉前面的注释符号"#"该行生效
# 配置参考:https://getsurfboard.com/docs/profile-format/overview

# other设置补充说明
# 在「工具」里「geoip查询」填写下面链接
# https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# https://raw.githubusercontent.com/Hackl0us/GeoIP2-CN/release/Country.mmdb

# 💡通用设置
[General]
# 设置dns服务器，并发请求选取最优结果（默认53端口）
dns-server=223.5.5.5,119.29.29.29

# 设置doh服务器,"未指定"的dns服务器将失效,并发请求选取最优结果（默认443端口）
doh-server=https://dns.alidns.com/dns-query

# 跳过代理或者ip段，不经过代理
skip-proxy=10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 172.16.0.0/12, 192.168.0.0/16

# 代理节点测速url
proxy-test-url=http://www.gstatic.com/generate_204

# 网络延迟测速url
internet-test-url=http://www.qualcomm.cn/generate_204

# 节点测速时超时秒数
test-timeout=3

# 配置的域名不会使用fakeip进行映射，返回真实的ip
always-real-ip=*.lan, *.local, localhost, *.msftconnecttest.com, *.msftncsi.com, *.jegotrip.com.cn, *.icitymobile.mobi, *.cmpassport.com, cable.auth.com, captive.apple.com, id6.me, open.e.189.cn, mdn.open.wo.cn, opencloud.wostore.cn, auth.wosms.cn

# wifi共享开启时http服务的端口
http-listen=0.0.0.0:7890

# wifi共享开启时socket5服务的端口
socks5-listen=127.0.0.1:7891

# ip防泄漏,如果代理不支持udp中继，请改用direct或reject
udp-policy-not-supported-behaviour=REJECT

# 💡指定dns服务器解析域名
[Host]
openwrt.lan=server:system
myrouter.local=server:system
talk.google.com=108.177.125.188
mtalk.google.com=108.177.125.188
blog.google=server:208.67.222.222
dl.google.com=server:208.67.222.222
dl.l.google.com=server:208.67.222.222
update.googleapis.com=server:208.67.222.222

# 💡本地代理服务器
[Proxy]
openwrt=vmess, 127.0.0.1, 80, username=0233d11c-15a4-47d3-ade3-48ffca0ce119, udp-relay=true, ws=true, ws-headers=Host:free.sinaimg.cn, ws-path=/, tfo=true, tls=true, skip-cert-verify=true, sni=free.sinaimg.cn, vmess-aead=true

# 💡策略组分流
[Proxy Group]
🔰 pick=select, ♻️ auto, ✅ node, ⚖️ load, ⚙️ fallback, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations, 🇨🇳 chinese, DIRECT, REJECT
♻️ auto=url-test, include-all-proxies=true, policy-regex-filter=^((?!国内|DIRECT).)*$, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
✅ node=select, include-all-proxies=true, policy-regex-filter=^((?!国内|DIRECT).)*$
⚖️ load=load-balance, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
⚙️ fallback=fallback, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
🇭🇰 hongkong=url-test, include-all-proxies=true, policy-regex-filter=(?=.*(港|香港|🇭🇰|HK|Hong))^((?!(台|日|韩|新|狮|美)).)*$, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
🇹🇼 taiwan=url-test, include-all-proxies=true, policy-regex-filter=(?=.*(台|台湾|台北|🇹🇼|TW|Taiwan))^((?!(港|日|韩|新|狮|美)).)*$, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
🇯🇵 japan=url-test, include-all-proxies=true, policy-regex-filter=(?=.*(日|日本|川日|东京|大阪|泉日|埼玉|沪日|深日|🇯🇵|JP|Japan))^((?!(港|台|韩|新|狮|美)).)*$, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
🇰🇷 korea=url-test, include-all-proxies=true, policy-regex-filter=(?=.*(韩|韩国|韓國|朝鲜|🇰🇷|KR|Korea))^((?!(港|台|日|新|狮|美)).)*$, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
🇸🇬 singapore=url-test, include-all-proxies=true, policy-regex-filter=(?=.*(新|狮|新加坡|狮城|🇸🇬|SG|Singapore))^((?!(港|台|日|韩|美)).)*$, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
🇺🇸 america=url-test, include-all-proxies=true, policy-regex-filter=(?=.*(美|美国|美國|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥|🇺🇸|US|America))^((?!(港|台|日|韩|新|狮)).)*$, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
🇺🇳 nations=url-test, include-all-proxies=true, policy-regex-filter=^((?!电信|移动|联通|腾讯|阿里|教育|校园|回国|🇨🇳|CN|CHINA|中国|大陆|国内|DIRECT|港|香港|🇭🇰|HK|Hong|台|台湾|台北|🇹🇼|TW|Taiwan|日|日本|川日|东京|大阪|泉日|埼玉|沪日|深日|🇯🇵|JP|Japan|韩|韩国|韓國|朝鲜|🇰🇷|KR|Korean|新|狮|新加坡|狮城|🇸🇬|SG|Singapore|美|美国|美國|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥|🇺🇸|US|America).)*$, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
🇨🇳 chinese=url-test, include-all-proxies=true, policy-regex-filter=(?=.*(电信|移动|联通|腾讯|阿里|教育|校园|回国|🇨🇳|CN|CHINA|中国|大陆|国内))^((?!(港|台|日|韩|新|狮|美)).)*$, url=http://www.gstatic.com/generate_204, interval=600, tolerance=150, timeout=5
🕸️ speedtest=select, 🇨🇳 china, 🔰 pick
🎵 tiktok=select, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
✉️ telegram=select, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
🎶 spotify=select, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
📽️ netflix=select, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
📼 disney=select, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
📹 youtube=select, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
🤖 facebook=select, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
📟 google=select, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
🖥️ microsoft=select, 🇨🇳 china, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
🍎 apple=select, 🇨🇳 china, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
🎬 streaming=select, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
🌐 global=select, 🔰 pick, 🇭🇰 hongkong, 🇹🇼 taiwan, 🇯🇵 japan, 🇰🇷 korea, 🇸🇬 singapore, 🇺🇸 america, 🇺🇳 nations
📺 media=select, 🇨🇳 china, 🔰 pick
🇨🇳 china=select, DIRECT, 🔰 pick, ✅ node, 🇨🇳 chinese, ⛔ adblock
🐟 final=select, 🔰 pick, 🇨🇳 china, ⛔ adblock
⛔ adblock=select, REJECT, DIRECT
📍 subscribe=select, hidden=true, policy-path=https://sub.xeton.dev/sub?target=surfboard&url=订阅链接&emoji=true&list=true&sort=true&udp=true&tfo=true&scv=true&append_type=true&fdn=true&new_name=true

# 💡分流规则
[Rule]
# 完整域名匹配
DOMAIN, ad.cyapi.cn, ⛔ adblock
DOMAIN, ad.21cn.com, ⛔ adblock
DOMAIN, ad.k.21cn.com, ⛔ adblock
DOMAIN, adshows.21cn.com, ⛔ adblock
DOMAIN, admarket.21cn.com, ⛔ adblock
DOMAIN, boxer.baidu.com, ⛔ adblock
DOMAIN, mssdk-bu.bytedance.com, ⛔ adblock

# 域名后缀匹配
DOMAIN-SUFFIX, sogou.com, 🇨🇳 china
DOMAIN-SUFFIX, m1.ad.10010.com, ⛔ adblock

# 域名关键词匹配
DOMAIN-KEYWORD, adtidy, 🌐 global
DOMAIN-KEYWORD, adguard, 🌐 global

# 安卓包名的应用程序
PROCESS-NAME, com.oplus.ota, ⛔ adblock
PROCESS-NAME, com.oplus.sau, ⛔ adblock
PROCESS-NAME, com.oplus.romupdate, ⛔ adblock
# PROCESS-NAME, com.sohu.inputmethod.sogou, 🇨🇳 china

# 安卓包名通配符规则
PROCESS-NAME, *discord*, 🌐 global

# 本地ipv4规则
IP-CIDR, 10.0.0.0/8, DIRECT
IP-CIDR, 100.64.0.0/10, DIRECT
IP-CIDR, 127.0.0.0/8, DIRECT
IP-CIDR, 172.16.0.0/12, DIRECT
IP-CIDR, 192.168.0.0/16, DIRECT
IP-CIDR, 224.0.0.0/24, DIRECT

# 本地ipv6规则
IP-CIDR6, fe80::/10, DIRECT

# 通过客户端ip地址区分局域网代理接收的流量
SRC-IP, 192.168.188.100, 🇨🇳 china

# 通过代理端口号区分局域网代理接收的流量
IN-PORT, 7890, 🇨🇳 china

# 指定协议http/https/tcp/udp规则,尚不支持doh、doh3、doq
# PROTOCOL, udp, ⛔ adblock

# 指定目标端口号规则
# DEST-PORT, 443, ⛔ adblock

# 远程分流规则
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Direct/Direct.list,🇨🇳 china
DOMAIN-SET,https://raw.githubusercontent.com/Cats-Team/AdRules/main/ad-domains.txt,⛔ adblock
#DOMAIN-SET,https://anti-ad.net/surge2.txt,⛔ adblock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy.list,⛔ adblock
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy_Domain.list,⛔ adblock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hijacking/Hijacking.list,⛔ adblock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AdvertisingLite/AdvertisingLite.list,⛔ adblock
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AdvertisingLite/AdvertisingLite_Domain.list,⛔ adblock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BlockHttpDNS/BlockHttpDNS.list,⛔ adblock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Speedtest/Speedtest.list,🕸️ speedtest
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,🎵 tiktok
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,✉️ telegram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,🎶 spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,📽️ netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,📼 disney
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,📹 youtube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Facebook/Facebook.list,🤖 facebook
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,📟 google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,🖥️ microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/SystemOTA/SystemOTA.list,⛔ adblock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,🍎 apple
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_Domain.list,🍎 apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia.list,🎬 streaming
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia_Domain.list,🎬 streaming
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global.list,🌐 global
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_Domain.list,🌐 global
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMedia/ChinaMedia.list,📺 media
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China.list,🇨🇳 china
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China_Domain.list,🇨🇳 china
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaIPs/ChinaIPs.list,🇨🇳 china
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaIPsBGP/ChinaIPsBGP.list,🇨🇳 china
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaASN/ChinaASN.list,🇨🇳 china

# 指定ssid的wifi名称规则
SUBNET, SSID:OpenWrt, 🇨🇳 china

# 指定bssid的mac地址规则
SUBNET, BSSID:D6:EE:07:4A:08:60, 🇨🇳 china

# 指定路由器的ip规则
SUBNET, ROUTER:192.168.188.1, 🇨🇳 china

# 指定(无线WIFI/有线WIRED/运营商CELLULAR)网络的规则
SUBNET, TYPE:WIRED, 🇨🇳 china

# 指定mcc-mnc为香港中信网络的规则(查询:https://mcc-mnc-list.com/list)
SUBNET, MCCMNC:454-01, 🇭🇰 hongkong

# 指定mcc-mnc为台湾中华电信网络的规则
SUBNET, MCCMNC:466-11, 🇹🇼 taiwan

# 指定mcc-mnc为日本软银网络的规则
SUBNET, MCCMNC:440-00, 🇯🇵 japan

# 指定mcc-mnc为韩国电信网络的规则
SUBNET, MCCMNC:450-02, 🇰🇷 korea

# 指定mcc-mnc为新加坡电信网络的规则
SUBNET, MCCMNC:525-01, 🇸🇬 singapore

# geoip数据库地区分流规则
GEOIP, CN, 🇨🇳 china

# 不在规则中的请求，走final指定规则
FINAL, 🐟 final

# 代理控制面板信息
[Panel]
PanelA=title="Panel Title", content="Panel Content\nSecondLine", style=info
