# 2023.4.10
# æ³¨æ„:å»æ‰å‰é¢çš„æ³¨é‡Šç¬¦å·"#"è¯¥è¡Œç”Ÿæ•ˆ

[General]
# ğŸ’¡ é€šç”¨è®¾ç½®
# æ—è·¯ç³»ç»Ÿå¼€å…³(false/true)
bypass-system=true

# ipv6æ”¯æŒå¼€å…³(false/true)
ipv6=false

# é¦–é€‰ipv6æ”¯æŒå¼€å…³(false/true)
prefer-ipv6=false

# ç§æœ‰ipåº”ç­”ï¼Œå¦‚å…³é—­åŸŸåè§£æä¼šè¿”å›ç§æœ‰ipï¼Œä¼šè®¤ä¸ºè¯¥åŸŸåè¢«åŠ«æŒè€Œå¼ºåˆ¶ä½¿ç”¨ä»£ç†å¼€å…³(false/true)
private-ip-answer=false

# ä¸å¼€å¯æ—¶ï¼ŒREJECTç­–ç•¥é»˜è®¤åªæœ‰åœ¨é…ç½®æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚å¼€å¯åï¼Œå¯ä»¥ä»¤è¯¥ç­–ç•¥åœ¨å…¶ä»–å…¨å±€è·¯ç”±æ¨¡å¼ä¸‹éƒ½ç”Ÿæ•ˆã€‚
always-reject-url-rewrite=false

# pingæ•°æ®åŒ…è‡ªåŠ¨å›å¤å¼€å…³(false/true)
icmp-auto-reply=true

# è¦†å†™dnsæœåŠ¡å™¨ï¼Œå¹¶å‘è¯·æ±‚é€‰å–æœ€ä¼˜ç»“æœ
dns-server=system,223.5.5.5, 119.29.29.29, https://dns.alidns.com/dns-query, https://doh.pub/dns-query

# å½“è¦†å†™çš„dnsè§£æå¤±è´¥åå›é€€åˆ°ç³»ç»Ÿdns,å¤šä¸ªdnså¯ç”¨","åˆ†éš”
fallback-dns-server=system

# ç›´è¿çš„åŸŸåç±»è§„åˆ™ä½¿ç”¨ç³»ç»Ÿdnsè¿›è¡ŒæŸ¥è¯¢å¼€å…³(false/true),falseè¡¨ç¤ºä¸å¯ç”¨
dns-direct-system=false

# ç›´è¿åŸŸåè§£æå¤±è´¥åä½¿ç”¨ä»£ç†å¼€å…³(false/true),falseè¡¨ç¤ºä¸å¯ç”¨
dns-direct-fallback-proxy=false

# å½“udpæµé‡åŒ¹é…åˆ°è§„åˆ™é‡Œä¸æ”¯æŒçš„èŠ‚ç‚¹æ—¶é‡æ–°é€‰æ‹©å›é€€è¡Œä¸ºï¼Œå¯é€‰è¡Œä¸ºdirectè¡¨ç¤ºç›´è¿è½¬å‘udpæµé‡ï¼Œrejectè¡¨ç¤ºæ‹’ç»
udp-policy-not-supported-behaviour=REJECT

# åŠ«æŒdnsæœåŠ¡å™¨ï¼Œè·å¾—å‡ipåœ°å€
hijack-dns=8.8.8.8:53, 8.8.4.4:53

# è·³è¿‡ä»£ç†æˆ–è€…ipæ®µï¼Œä¸ç»è¿‡ä»£ç†
skip-proxy=10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 172.16.0.0/12, 192.168.0.0/16

# æŒ‡å®šipæ®µèŒƒå›´ç»•è¿‡tunæ—è·¯ç”±
tun-excluded-routes=10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32

# é…ç½®çš„åŸŸåä¸ä¼šè¿›è¡Œæ˜ å°„ï¼Œè¿”å›çœŸå®çš„ip
always-real-ip=*.lan, *.local, localhost, *.msftconnecttest.com, *.msftncsi.com, *.jegotrip.com.cn, *.icitymobile.mobi, *.cmpassport.com, cable.auth.com, captive.apple.com, id6.me, open.e.189.cn, mdn.open.wo.cn, opencloud.wostore.cn, auth.wosms.cn

# é…ç½®æ›´æ–°urlåœ°å€
update-url=https://raw.githubusercontent.com/aimetu/other/main/Shadowrocket/shadowrocket.conf

[Host]
# ğŸ’¡ å¯¹åŸŸåæŒ‡å®šå•ç‹¬çš„dnsæœåŠ¡å™¨
# åŸŸåä½¿ç”¨å¯¹åº”çš„ipåœ°å€
# åŸŸåæŒ‡å®šdnsæœåŠ¡å™¨
# wifiæŒ‡å®šdnsæœåŠ¡å™¨ï¼Œå¤šä¸ªç”¨","åˆ†éš”
openwrt.lan=server:system
blog.google=server:208.67.222.222
talk.google.com=108.177.125.188
mtalk.google.com=108.177.125.188
dl.google.com=server:https://doh.opendns.com/dns-query
dl.l.google.com=server:https://doh.opendns.com/dns-query
update.googleapis.com=server:quic://cn-east.ovo.glass

# ssid
ssid:OpenWrt=server:system

[Proxy]
# ğŸ’¡ æœ¬åœ°èŠ‚ç‚¹
# æ”¯æŒhttp/https/socks5/socks5-tls/ss/ssr/vmess/vless/trojan/wireguardç­‰åè®®

[Proxy Group]
# ğŸ’¡ ç­–ç•¥ç»„åˆ†æµ
# select:æ‰‹åŠ¨é€‰æ‹©èŠ‚ç‚¹
# url-test:è‡ªåŠ¨é€‰æ‹©å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹
# fallback:èŠ‚ç‚¹æŒ‚æ‰æ—¶è‡ªåŠ¨åˆ‡æ¢å…¶ä»–å¯ç”¨èŠ‚ç‚¹
# load-balance:ä¸åŒè§„åˆ™çš„è¯·æ±‚ä½¿ç”¨åˆ†ç»„é‡Œçš„ä¸åŒèŠ‚ç‚¹è¿›è¡Œè¿æ¥
# random:éšæœºä½¿ç”¨åˆ†ç»„é‡Œçš„ä¸åŒèŠ‚ç‚¹è¿›è¡Œè¿æ¥
# è¡¨ç¤ºæ­£åˆ™å¼æˆ–å…³é”®è¯ç­›é€‰ï¼Œå¸¸ç”¨å†™æ³•ï¼š
# ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aå’ŒBçš„èŠ‚ç‚¹ï¼š(?=.*(A))^(?=.*(B))^.*$
# ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aæˆ–Bçš„èŠ‚ç‚¹ï¼šA|B
# æ’é™¤èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aæˆ–Bçš„èŠ‚ç‚¹ï¼š^((?!(A|B)).)*$
# ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aå¹¶æ’é™¤å«æœ‰å…³é”®è¯Bçš„èŠ‚ç‚¹ï¼š(?=.*(A).)^((?!(B)).)*$
# ä»£ç†åˆ†ç»„å…¶ä»–è®¾ç½®å‚æ•°ï¼š
# interval:æŒ‡å®šé—´éš”å¤šé•¿æ—¶é—´åéœ€è¦é‡æ–°å‘èµ·æµ‹è¯•
# timeout:å¦‚æœæµ‹è¯•åœ¨è¶…æ—¶å‰æœªå®Œæˆï¼Œæ”¾å¼ƒæµ‹è¯•
# tolerance:åªæœ‰å½“æ–°ä¼˜èƒœè€…çš„åˆ†æ•°é«˜äºæ—§ä¼˜èƒœè€…çš„åˆ†æ•°åŠ ä¸Šå…¬å·®æ—¶ï¼Œæ‰ä¼šè¿›è¡Œçº¿è·¯æ›´æ¢
# url:æŒ‡å®šè¦æµ‹è¯•çš„URL
ğŸ”° æ‰‹åŠ¨é€‰æ‹©=select, â™»ï¸ è‡ªåŠ¨åˆ‡æ¢, âš–ï¸ è´Ÿè½½å‡è¡¡, âš™ï¸ æ•…éšœè½¬ç§», ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å›å›½èŠ‚ç‚¹, DIRECT, PROXY, REJECT, url=http://www.gstatic.com/generate_204, interval=600, timeout=5, select=0
â™»ï¸ è‡ªåŠ¨åˆ‡æ¢=url-test, policy-regex-filter=*, url=http://www.gstatic.com/generate_204,interval=600, tolerance=150, timeout=5, select=0
âš–ï¸ è´Ÿè½½å‡è¡¡=load-balance,  ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, url=http://www.gstatic.com/generate_204,interval=600, tolerance=150, timeout=5, select=0
âš™ï¸ æ•…éšœè½¬ç§»=fallback,  ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, url=http://www.gstatic.com/generate_204,interval=600, tolerance=150, timeout=5, select=0
ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹=url-test, policy-regex-filter=æ¸¯|é¦™æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong, url=http://www.gstatic.com/generate_204,interval=600, tolerance=150, timeout=5, select=0
ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹=url-test, policy-regex-filter=å°|å°æ¹¾|å°åŒ—|ğŸ‡¹ğŸ‡¼|TW|Taiwan, url=http://www.gstatic.com/generate_204,interval=600, tolerance=150, timeout=5, select=0
ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹=url-test, policy-regex-filter=æ—¥|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|JP|Japan, url=http://www.gstatic.com/generate_204,interval=600, tolerance=150, timeout=5, select=0
ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹=url-test, policy-regex-filter=éŸ©|éŸ©å›½|éŸ“åœ‹|æœé²œ|ğŸ‡°ğŸ‡·|KR|Korea, url=http://www.gstatic.com/generate_204,interval=600, tolerance=150, timeout=5, select=0
ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹=url-test, policy-regex-filter=æ–°|ç‹®|æ–°åŠ å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|SG|Singapore, url=http://www.gstatic.com/generate_204,interval=600, tolerance=150, timeout=5, select=0
ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹=url-test, policy-regex-filter=ç¾|ç¾å›½|ç¾åœ‹|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|ğŸ‡ºğŸ‡¸|US|America, url=http://www.gstatic.com/generate_204,interval=600, tolerance=150, timeout=5, select=0
ğŸ‡¨ğŸ‡³ å›å›½èŠ‚ç‚¹=url-test, policy-regex-filter=ç”µä¿¡|ç§»åŠ¨|è”é€š|è…¾è®¯|é˜¿é‡Œ|æ•™è‚²|æ ¡å›­|å›å›½|ğŸ‡¨ğŸ‡³|CN|CHINA|ä¸­å›½|å¤§é™†|å›½å†…, url=http://www.gstatic.com/generate_204,interval=600, tolerance=100, timeout=5, select=0
ğŸ•¸ï¸ ç½‘é€Ÿæµ‹è¯•=select, ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, select=0
ğŸµ å›½é™…æŠ–éŸ³=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
âœ‰ï¸ ç”µæŠ¥ç¾¤èŠ=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ¶ å£°ç”°éŸ³ä¹=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ“½ï¸ å¥ˆé£å½±è§†=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ“¼ è¿ªå®¶å½±è§†=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ“¹ æ²¹ç®¡è§†é¢‘=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ¤– è„¸ä¹¦æœåŠ¡=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ“Ÿ è°·æ­ŒæœåŠ¡=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ–¥ï¸ å¾®è½¯æœåŠ¡=select, ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ è‹¹æœæœåŠ¡=select, ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ¬ å›½é™…åª’ä½“=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸŒ å›½é™…åŠ é€Ÿ=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ“º ä¸­å›½åª’ä½“=select, ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, select=0
ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿=select, DIRECT, PROXY, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡¨ğŸ‡³ å›å›½èŠ‚ç‚¹, â›” å¹¿å‘Šæ‹¦æˆª, select=0
ğŸŸ æ¼ç½‘ä¹‹é±¼=select, ğŸ”° æ‰‹åŠ¨é€‰æ‹©, ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿, â›” å¹¿å‘Šæ‹¦æˆª, select=0
â›” å¹¿å‘Šæ‹¦æˆª=select, REJECT, DIRECT, select=0

[Rule]
# ğŸ’¡ åˆ†æµè§„åˆ™
# DOMAIN-SUFFIXï¼šåŒ¹é…è¯·æ±‚åŸŸåçš„åç¼€ã€‚å¦‚â€œDOMAIN-SUFFIX,example.com,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°â€œa.example.comã€a.b.example.comâ€
# DOMAIN-KEYWORDï¼šåŒ¹é…è¯·æ±‚åŸŸåçš„å…³é”®è¯ã€‚å¦‚â€œDOMAIN-KEYWORD,exa,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°â€œa.example.comã€a.b.example.comâ€
# DOMAINï¼šåŒ¹é…è¯·æ±‚çš„å®Œæ•´åŸŸåã€‚å¦‚â€œDOMAIN,www.example.com,DIRECTâ€åªèƒ½åŒ¹é…åˆ°â€œwww.example.comâ€
# USER-AGENTï¼šåŒ¹é…ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ï¼Œæ”¯æŒä½¿ç”¨é€šé…ç¬¦â€œ*â€ã€‚å¦‚â€œUSER-AGENT,MicroMessenger*,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°â€œMicroMessenger Clientâ€
# URL-REGEXï¼šåŒ¹é…URLæ­£åˆ™å¼ã€‚å¦‚â€œURL-REGEX,^https?://.+/item.+,REJECTâ€å¯ä»¥åŒ¹é…åˆ°â€œhttps://www.example.com/item/abc/123â€
# IP-CIDRï¼šåŒ¹é…IPv4æˆ–IPv6åœ°å€ã€‚å¦‚â€œIP-CIDR,192.168.1.0/24,DIRECT,no-resolveâ€å¯ä»¥åŒ¹é…åˆ°IPæ®µâ€œ192.168.1.1ï½192.168.1.254â€ã€‚è§„åˆ™åŠ no-resolveæ—¶ï¼ŒIPè¯·æ±‚ä¼šåŒ¹é…åˆ°è¿™æ¡è§„åˆ™ï¼Œè€ŒåŸŸåè¯·æ±‚ä¸ä¼šç”¨è§£æå‡ºæ¥çš„IPå»åŒ¹é…è¿™æ¡è§„åˆ™ã€‚è§„åˆ™ä¸åŠ no-resolveæ—¶ï¼Œåˆ™IPè¯·æ±‚å¯åŒ¹é…ï¼ŒåŸŸåè§£æåçš„IPä¹Ÿå¯åŒ¹é…
# IP-ASNï¼šåŒ¹é…IPåœ°å€éš¶å±çš„ASNç¼–å·ã€‚å¦‚â€œIP-ASN,56040,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°å¾®ä¿¡çš„ç›¸å…³IPè¯·æ±‚
# RULE-SETï¼šåŒ¹é…è§„åˆ™é›†å†…å®¹ã€‚è§„åˆ™é›†çš„ç»„æˆéƒ¨åˆ†éœ€åŒ…å«è§„åˆ™ç±»å‹
# DOMAIN-SETï¼šåŒ¹é…åŸŸåé›†å†…å®¹ã€‚åŸŸåé›†çš„ç»„æˆéƒ¨åˆ†ä¸åŒ…å«è§„åˆ™ç±»å‹
# SCRIPTï¼šåŒ¹é…è„šæœ¬åç§°
# DST-PORTï¼šåŒ¹é…ç›®æ ‡ä¸»æœºåçš„ç«¯å£å·ã€‚å¦‚â€œDST-PORT,443,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°443ç›®æ ‡ç«¯å£
# GEOIPï¼šåŒ¹é…IPæ•°æ®åº“ã€‚å¦‚â€œGEOIP,CN,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°å½’å±åœ°ä¸ºCNçš„IPåœ°å€
# FINALï¼šå…œåº•ç­–ç•¥ã€‚å¦‚â€œFINAL,PROXYâ€è¡¨ç¤ºå½“å…¶ä»–æ‰€æœ‰è§„åˆ™éƒ½åŒ¹é…ä¸åˆ°æ—¶æ‰ä½¿ç”¨FINALè§„åˆ™çš„ç­–ç•¥
# ANDï¼šé€»è¾‘è§„åˆ™ï¼Œä¸è§„åˆ™ã€‚å¦‚â€œAND,((DOMAIN,www.example.com),(DST-PORT,123)),DIRECTâ€å¯ä»¥åŒ¹é…åˆ°â€œwww.example.com:123â€
# NOTï¼šé€»è¾‘è§„åˆ™ï¼Œéè§„åˆ™ã€‚å¦‚â€œNOT,((DST-PORT,123)),DIRECTâ€å¯ä»¥åŒ¹é…åˆ°é™¤äº†â€œ123â€ç«¯å£çš„å…¶ä»–æ‰€æœ‰è¯·æ±‚
# ORï¼šé€»è¾‘è§„åˆ™ï¼Œæˆ–è§„åˆ™ã€‚å¦‚â€œOR,((DST-PORT,123),(DST-PORT,456)),DIRECTâ€å¯ä»¥åŒ¹é…åˆ°â€œ123â€æˆ–â€œ456â€ç«¯å£çš„æ‰€æœ‰è¯·æ±‚
# ----------
# è§„åˆ™ç­–ç•¥ï¼š
# PROXYï¼šä»£ç†ã€‚é€šè¿‡é¦–é¡µæ­£åœ¨ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨è½¬å‘æµé‡
# DIRECTï¼šç›´è¿ã€‚è¿æ¥ä¸ç»è¿‡ä»»ä½•ä»£ç†æœåŠ¡å™¨
# REJECTï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 404ï¼Œæ²¡æœ‰å†…å®¹
# REJECT-DICTï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸ºç©ºçš„JSONå¯¹è±¡
# REJECT-ARRAYï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸ºç©ºçš„JSONæ•°ç»„
# REJECT-200ï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œæ²¡æœ‰å†…å®¹
# REJECT-IMGï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸º1åƒç´ GIF
# REJECT-TINYGIFï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸º1åƒç´ GIF
# REJECT-DROPï¼šæ‹’ç»ã€‚ä¸¢å¼ƒIPåŒ…
# REJECT-NO-DROPï¼šæ‹’ç»ã€‚è¿”å›ICMPç«¯å£ä¸å¯è¾¾
# é™¤æ­¤ä¹‹å¤–ï¼Œè§„åˆ™ç­–ç•¥è¿˜å¯ä»¥é€‰æ‹©ã€Œä»£ç†åˆ†ç»„ã€ã€ã€Œè®¢é˜…åç§°ã€ã€ã€Œåˆ†ç»„ã€ã€ã€ŒèŠ‚ç‚¹ã€
# ----------
# è§„åˆ™åŒ¹é…çš„ä¼˜å…ˆçº§ï¼š
# 1.è§„åˆ™ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡åŒ¹é…
# 2.åŸŸåè§„åˆ™ä¼˜å…ˆäºIPè§„åˆ™
# ----------
# å…³äºå±è”½443ç«¯å£çš„UDPæµé‡çš„è§£é‡Šå†…å®¹ï¼šHTTP3/QUICåè®®å¼€å§‹æµè¡Œï¼Œä½†æ˜¯å›½å†…ISPå’Œå›½é™…å‡ºå£çš„UDPä¼˜å…ˆçº§éƒ½å¾ˆä½ï¼Œè¡¨ç°å¾ˆå·®ï¼Œå±è”½æ‰ä»¥å¼ºåˆ¶å›é€€HTTP2/HTTP1.1ã€‚ï¼ˆå¦‚éœ€å¯ç”¨è¯¥é€»è¾‘è§„åˆ™ï¼Œè¯·åˆ é™¤ANDå‰é¢çš„æ³¨é‡Šç¬¦å·#ï¼‰
# AND,((PROTOCOL,UDP),(DST-PORT,443)),REJECT-NO-DROP

# å®Œæ•´åŸŸååŒ¹é…
DOMAIN, ad.21cn.com, adblock
DOMAIN, ad.k.21cn.com, adblock
DOMAIN, admarket.21cn.com, adblock
DOMAIN, adshows.21cn.com, adblock

# åŸŸååç¼€åŒ¹é…
DOMAIN-SUFFIX, m1.ad.10010.com, adblock

# åŸŸåå…³é”®è¯åŒ¹é…
DOMAIN-KEYWORD, openwrt, china

# url-regexåŒ¹é…
URL-REGEX,^http://google\.com, google

# user-agentåŒ¹é…
USER-AGENT, WhatsApp*, facebook

# ipv4æœ¬åœ°åŒ¹é…è§„åˆ™
IP-CIDR,10.0.0.0/8, DIRECT
IP-CIDR,100.64.0.0/10, DIRECT
IP-CIDR,127.0.0.0/8, DIRECT
IP-CIDR,172.16.0.0/12, DIRECT
IP-CIDR,192.168.0.0/16, DIRECT
IP-CIDR,224.0.0.0/24, DIRECT

# ipv6æœ¬åœ°åŒ¹é…è§„åˆ™
IP-CIDR6, fe80::/10, DIRECT

RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Direct/Direct.list,ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿
DOMAIN-SET,https://anti-ad.net/surge2.txt,â›” ä¸­åŒºå¹¿å‘Š
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Hijacking/Hijacking.list,â›” å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Privacy/Privacy.list,â›” å¹¿å‘Šæ‹¦æˆª
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Privacy/Privacy_Domain.list,â›” å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/AdvertisingLite/AdvertisingLite.list,â›” å¹¿å‘Šæ‹¦æˆª
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/AdvertisingLite/AdvertisingLite_Domain.list,â›” å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Speedtest/Speedtest.list,ğŸ•¸ï¸ ç½‘é€Ÿæµ‹è¯•
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/TikTok/TikTok.list,ğŸµ å›½é™…æŠ–éŸ³
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Telegram/Telegram.list,âœ‰ï¸ ç”µæŠ¥ç¾¤èŠ
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Spotify/Spotify.list,ğŸ¶ å£°ç”°éŸ³ä¹
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Netflix/Netflix.list,ğŸ“½ï¸ å¥ˆé£å½±è§†
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Disney/Disney.list,ğŸ“¼ è¿ªå®¶å½±è§†
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/YouTube/YouTube.list,ğŸ“¹ æ²¹ç®¡è§†é¢‘
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/SystemOTA/SystemOTA.list,â›” å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Facebook/Facebook.list,ğŸ¤– è„¸ä¹¦æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Google/Google.list,ğŸ“Ÿ è°·æ­ŒæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Microsoft/Microsoft.list,ğŸ–¥ï¸ å¾®è½¯æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Apple/Apple.list,ğŸ è‹¹æœæœåŠ¡
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Apple/Apple_Domain.list,ğŸ è‹¹æœæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GlobalMedia/GlobalMedia.list,ğŸ¬ å›½é™…åª’ä½“
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GlobalMedia/GlobalMedia_Domain.list,ğŸ¬ å›½é™…åª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Global/Global.list,ğŸŒ å›½é™…åŠ é€Ÿ
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Global/Global_Domain.list,ğŸŒ å›½é™…åŠ é€Ÿ
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaMedia/ChinaMedia.list,ğŸ“º ä¸­å›½åª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/China/China.list,ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/China/China_Domain.list,ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaIPs/ChinaIPs.list,ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaIPsBGP/ChinaIPsBGP.list,ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿

# geoipè§„åˆ™
GEOIP,CN,ğŸ‡¨ğŸ‡³ ä¸­å›½ç›´è¿

# ä¸åœ¨è§„åˆ™ä¸­çš„è¯·æ±‚ï¼Œèµ°finalæŒ‡å®šç­–ç•¥
FINAL,ğŸŸ æ¼ç½‘ä¹‹é±¼

[URL Rewrite]
# ğŸ’¡ é‡å†™
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302
(?<=_region=)CN(?=&) KR 307
(?<=&mcc_mnc=)4 2 307
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) $1$3 302
(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) $118.0$3 302

[MITM]
# ğŸ’¡ httpsè§£å¯†,éœ€å®‰è£…è¯ä¹¦å¹¶ä¿¡ä»»
# è§£å¯†hostnameæŒ‡å®šçš„åŸŸåçš„è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å‰ç¼€ - æ’é™¤ç‰¹å®šä¸»æœºåï¼Œå¦‚ -*.example.comã€‚iOSç³»ç»Ÿå’ŒæŸäº›åº”ç”¨æœ‰ä¸¥æ ¼çš„å®‰å…¨ç­–ç•¥ï¼Œä»…ä¿¡ä»»æŸäº›ç‰¹å®šçš„è¯ä¹¦ï¼Œå¯¹è¿™äº›åŸŸåå¯åŠ¨è§£å¯†å¯èƒ½å¯¼è‡´é—®é¢˜ï¼Œå¦‚ *.apple.comï¼Œ*.icloud.com
hostname=g.cn, *.google.cn, *.tiktokv.com, *.byteoversea.com, *.tik-tokapi.com

[Script]
# ğŸ’¡ è„šæœ¬
ğŸ“… ä»Šæ—¥é»„å†=type=cron, script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/wnCalendar.js, cronexpr="0 7 * * *", script-update-interval=24,enable=true
ğŸŒ• æ¯æ—¥ä¸€å›¾=type=cron, script-path=https://raw.githubusercontent.com/evilbutcher/QuantumultX/master/check_in/nasa/nasapic.js, cronexpr="0 7 * * *", script-update-interval=24,enable=true
ğŸŒ æ¯æ—¥ç¯çƒ=type=cron, script-path=https://raw.githubusercontent.com/evilbutcher/QuantumultX/master/check_in/idaily/idaily.js, cronexpr="0 7 * * *", script-update-interval=24,enable=true
ğŸ“– æ¯æ—¥ä¸€è¨€=type=cron, script-pathhttps://raw.githubusercontent.com/githubdulong/Script/master/One.js, cronexpr="0 9 * * *", script-update-interval=24,enable=true
ğŸ’° è´§å¸æ¢ç®—=type=cron, script-path=https://raw.githubusercontent.com/Peng-YM/QuanX/master/Tasks/exchange.js, cronexpr="0 10 * * *", script-update-interval=24,enable=true
ğŸ« å½©ç¥¨æŸ¥è¯¢=type=cron, script-path=https://raw.githubusercontent.com/evilbutcher/QuantumultX/master/check_in/ssq/ssq.js, cronexpr="30 21 * * *", script-update-interval=24,enable=true
